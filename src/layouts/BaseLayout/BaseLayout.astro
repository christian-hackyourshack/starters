---
import Head, { type Props as HeadProps } from './Head.astro';

export interface Props extends HeadProps {
  class?: string;
  dir?: 'ltr' | 'rtl';
  lang?: string;
  abstract?: string;
}

const {
  class: className = '',
  dir = 'ltr',
  lang = 'en',
  ...headProps
} = (Astro.props.frontmatter || Astro.props) as Props;

// Copy the Markdown abstract to the description as default value
if (!headProps.description && headProps.abstract) {
  headProps.description = headProps.abstract;
}
---

<!DOCTYPE html>
<html lang={lang} dir={dir}>
  <head>
    <Head {...headProps} />
    <slot name="head" />
  </head>
  <body class={className}>
    <main>
      <slot />
    </main>
  </body>
</html>
